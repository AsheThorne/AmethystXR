#pragma once

// ----------------------------------------- //
// AXR Macros
// ----------------------------------------- //
#if defined(AXR_PLATFORM_WIN32)
#    define AXR_API_EXPORT __declspec(dllexport)
#    define AXR_API_IMPORT __declspec(dllimport)
#elif defined(AXR_PLATFORM_LINUX)
#    define AXR_API_EXPORT __attribute__((visibility("default")))
#    define AXR_API_IMPORT
#else
#    define AXR_API_EXPORT
#    define AXR_API_IMPORT
#    pragma Warning.Unknown dynamic link import / export semantics.
#endif

#ifdef AXR_BUILD_DLL
#    define AXR_API AXR_API_EXPORT
#else
#    define AXR_API AXR_API_IMPORT
#endif

#define AXR_SUCCEEDED(result) ((result) >= 0)
#define AXR_FAILED(result) ((result) < 0)

#define AXR_MAKE_VERSION(major, minor, patch)                                  \
    ((((uint32_t)(major)) << 22U) | (((uint32_t)(minor)) << 12U) |             \
     ((uint32_t)(patch)))

#define AXR_VERSION_MAJOR(version) (((uint32_t)(version) >> 22U) & 0x7FU)
#define AXR_VERSION_MINOR(version) (((uint32_t)(version) >> 12U) & 0x3FFU)
#define AXR_VERSION_PATCH(version) ((uint32_t)(version) & 0xFFFU)

// clang-format off
#define AXR_ENGINE_VERSION AXR_MAKE_VERSION(@AXR_Engine_VERSION_MAJOR@, @AXR_Engine_VERSION_MINOR@, @AXR_Engine_VERSION_PATCH@)
// clang-format on

// ---- Max String Sizes ----
#define AXR_MAX_ENGINE_NAME_SIZE 128

// ----------------------------------------- //
// AXR Engine Data
// ----------------------------------------- //
inline char AxrEngineName[AXR_MAX_ENGINE_NAME_SIZE] = "AmethystXR";